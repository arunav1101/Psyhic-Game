<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>The Psyhic Game</title>
</head>

<body>

  <div>
    <h1>The Psyhic Game</h1>
    <p id="directions-text">Guess what letter I am thinking of!</p>
    <p id="wins-text"></p>
    <p id="losses-text"></p>
    <p id="chance-text"></p>
    <p id="myoptions-text"></p>
  </div>

  <script type="text/javascript">
    function computerChoice() {
      let computerChoices = "abcdefghiklmnopqrstuvwxyz";
      let computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];
      return computerGuess;
    }
    // Creates an array that lists out all of the options (Rock, Paper, or Scissors).
    // var computerChoices = [a-z];

    var wins, losses, chances, computerGuess, userGuess;
    var myoptions = new Array();

    function setup() {
      wins = 0;
      losses = 0;
    }

    function varSetup() {
      myoptions = [];
      userGuess = '';
      computerGuess = '';
      chances = 9;
    }

    //Initialise the Game
    setup();
    varSetup();

    // Create variables that hold references to the places in the HTML where we want to display things.
    var directionsText = document.getElementById("directions-text");
    var userChoiceText = document.getElementById("userchoice-text");
    var computerChoiceText = document.getElementById("computerchoice-text");
    var winsText = document.getElementById("wins-text");
    var lossesText = document.getElementById("losses-text");
    var chanceText = document.getElementById("chance-text");
    var myoptionsText = document.getElementById("myoptions-text");
    // This function is run whenever the user presses a key.
    document.onkeyup = function (event) {
      computerGuess = computerChoice();
      console.log('Computer Chose==>', computerGuess);
      // Determines which key was pressed.
      userGuess = event.key;
      console.log('User Chose==>', userGuess);
      userGuess = userGuess.toLowerCase();
      myoptions.push(userGuess);
      // This logic determines the outcome of the game (win/loss/tie), and increments the appropriate number
      if (userGuess === computerGuess) {
        wins++;
        varSetup();
        alert('Awesome! You Got Me!')
      } else {
        chances -= 1;
      }
      if (chances <= 0) {
        losses++;
        varSetup();
      }
      // Hide the directions
      directionsText.textContent = "Guess what letter I am thinking of!";
      winsText.textContent = "wins: " + wins;
      lossesText.textContent = "losses: " + losses;
      chanceText.textContent = "Guess Left: " + chances;
      myoptionsText.textContent = ` Your Guesses So far:  ${myoptions.map(x => x)}`;
    }
  </script>

</body>

</html>